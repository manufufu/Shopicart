function Shopicart(settings={form:form,itemTemplate:itemTemplate,appendere:appendere,miniFunc:miniFunc,miniTotal:miniTotal}){let AJAXSingleton,Minicart;String.prototype.ShopiInterpolate=function(params){const names=Object.keys(params),vals=Object.values(params);return new Function(...names,`return \`${this}\`;`)(...vals)},(new(function(){let instance;function init(){function forms(){settings.form.forEach(form=>form.addEventListener("submit",ajaxAddjs))}function ajaxAddjs(e){let http=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),item={quantity:1,id:null!==this.querySelector("input:checked")?this.querySelector("input:checked").value:this.querySelector("input[type=hidden]").value},itemString=JSON.stringify(item);http.open("POST","/cart/add.js",!0),http.setRequestHeader("Content-Type","application/json"),http.send(itemString),http.addEventListener("load",(function(){if(4==this.readyState&&200==this.status){let data;ajaxCartjs(JSON.parse(this.responseText))}}))}function ajaxCartjs(data){let prdId=data.variant_id,theTarget=document.querySelector(`tr[data-id='${prdId}']`),itemPrice=document.querySelector(`tr[data-id='${prdId}'] [data-item-price]`),theQuantity=document.querySelector(`tr[data-id='${prdId}'] [data-item-quantity]`),totalPrice=document.querySelector(`tr[data-id='${prdId}'] [data-item-total]`),itemDiscount=document.querySelector(`tr[data-id='${prdId}'] [data-item-discount]`),http=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");http.open("GET","/cart.js",!0),http.send(),http.addEventListener("load",(function(){let vGetRes=JSON.parse(this.responseText);4==this.readyState&&200==this.status&&(null!==theTarget?_updateMinicartItems({price:itemPrice,quantity:theQuantity,totalprice:totalPrice,total:settings.miniTotal,discount:itemDiscount,getResponse:vGetRes},data):_addToMiniCart(data,vGetRes))}))}function _updateMinicartItems(elems={price:price,quantity:quantity,totalprice:totalprice,total:total,getResponse:getResponse},data){elems.price.textContent=`${Shopify.formatMoney(data.price)} ${Shopify.currency.active} x ${data.quantity}`,elems.quantity.value=data.quantity,elems.totalprice.textContent=`${Shopify.formatMoney(data.line_price)} ${Shopify.currency.active}`,elems.total.textContent=`${Shopify.formatMoney(elems.getResponse.total_price)} ${Shopify.currency.active}`,settings.miniFunc&&settings.miniFunc()}function _addToMiniCart(data,response){settings.appendHere.insertAdjacentHTML("afterbegin",settings.itemTemplate.ShopiInterpolate({variantId:data.variant_id,url:data.url,image_url:data.featured_image.url,image_alt:data.featured_image.alt,vendor:data.vendor,title:data.title,variant_title:data.variant_title,quantity:data.quantity,line_price:Shopify.formatMoney(data.line_price),discount:data.discounted_price,currency:Shopify.currency.active})),settings.miniTotal.textContent=`${Shopify.formatMoney(response.total_price)} ${Shopify.currency.active}`,settings.miniFunc&&settings.miniFunc()}return{forms:forms}}return{getInstance:function(){return instance||(instance=init()),instance}}}())).forms()}